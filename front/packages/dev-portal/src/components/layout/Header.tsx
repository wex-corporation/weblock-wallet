'use client'

import Link from 'next/link'
import { useState, useEffect } from 'react'
import { Button } from '@/components/ui/button'
import {
  Sheet,
  SheetContent,
  SheetHeader,
  SheetTitle,
  SheetTrigger,
  SheetDescription,
  SheetFooter
} from '@/components/ui/sheet'
import { Menu, Home as HomeIcon, Book, LayoutDashboard } from 'lucide-react'

export default function Header() {
  const [isMobileMenuOpen, setMobileMenuOpen] = useState(false)
  const [isScrolled, setIsScrolled] = useState(false)

  useEffect(() => {
    const handleScroll = () => {
      if (window.scrollY > 50) {
        setIsScrolled(true)
      } else {
        setIsScrolled(false)
      }
    }
    window.addEventListener('scroll', handleScroll)
    return () => window.removeEventListener('scroll', handleScroll)
  }, [])

  return (
    <header
      className={`fixed top-0 left-0 w-full z-50 transition-all duration-300 ${
        isScrolled ? 'bg-white/90 backdrop-blur-md shadow-md' : 'bg-white'
      }`}
    >
      <div className="flex items-center justify-between p-4 max-w-screen-xl mx-auto">
        <Link href="/" className="flex items-center space-x-2">
          <svg
            width="260"
            height="28"
            viewBox="0 0 260 28"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M80.9514 0.390625V27.0969H85.6943V0.390625H80.9514ZM142.867 27.0989H148.382L140.771 17.8432L148.161 8.80694H142.499L136.175 16.8554V1.49017H131.433V27.0989H136.175V18.7943L142.867 27.0989ZM113.667 24.8289C115.53 26.6825 117.846 27.6092 120.616 27.6092C122.405 27.6092 124.035 27.1824 125.506 26.3288C126.976 25.4508 128.116 24.2923 128.925 22.8533L124.807 20.512C124.439 21.268 123.876 21.8656 123.116 22.3046C122.381 22.7192 121.535 22.9265 120.579 22.9265C119.157 22.9265 117.981 22.4631 117.049 21.5363C116.118 20.5851 115.652 19.3901 115.652 17.9511C115.652 16.4877 116.118 15.2927 117.049 14.3659C117.981 13.4147 119.157 12.9391 120.579 12.9391C121.51 12.9391 122.344 13.1586 123.079 13.5976C123.839 14.0366 124.403 14.6342 124.77 15.3902L128.851 13.0123C128.092 11.5733 126.976 10.427 125.506 9.57339C124.035 8.71976 122.405 8.29295 120.616 8.29295C117.846 8.29295 115.53 9.21974 113.667 11.0733C111.828 12.9269 110.909 15.2195 110.909 17.9511C110.909 20.6827 111.828 22.9753 113.667 24.8289ZM105.697 24.8289C103.81 26.6825 101.506 27.6092 98.7848 27.6092C96.0641 27.6092 93.7601 26.6825 91.8727 24.8289C90.0098 22.9509 89.0784 20.6583 89.0784 17.9511C89.0784 15.2439 90.0098 12.9635 91.8727 11.1099C93.7601 9.23194 96.0641 8.29295 98.7848 8.29295C101.506 8.29295 103.81 9.23194 105.697 11.1099C107.584 12.9635 108.528 15.2439 108.528 17.9511C108.528 20.6583 107.584 22.9509 105.697 24.8289ZM95.2185 21.5729C96.1744 22.5241 97.3632 22.9997 98.7848 22.9997C100.206 22.9997 101.395 22.5241 102.351 21.5729C103.307 20.6217 103.785 19.4145 103.785 17.9511C103.785 16.4877 103.307 15.2805 102.351 14.3293C101.395 13.3781 100.206 12.9025 98.7848 12.9025C97.3632 12.9025 96.1744 13.3781 95.2185 14.3293C94.287 15.2805 93.8213 16.4877 93.8213 17.9511C93.8213 19.4145 94.287 20.6217 95.2185 21.5729ZM74.4626 13.8189C76.7176 15.1116 77.8452 17.0627 77.8452 19.6724C77.8452 21.843 77.0731 23.6234 75.5289 25.0136C73.9846 26.4038 72.085 27.0989 69.83 27.0989H58.9103V1.49017H69.0579C71.2639 1.49017 73.1145 2.17306 74.6097 3.53886C76.1294 4.88027 76.8892 6.59972 76.8892 8.69719C76.8892 10.8191 76.0804 12.5263 74.4626 13.8189ZM69.0579 6.20949H63.9841V11.8434H69.0579C69.8423 11.8434 70.4918 11.5751 71.0066 11.0386C71.5458 10.502 71.8154 9.83129 71.8154 9.02645C71.8154 8.2216 71.5581 7.5509 71.0433 7.01433C70.5286 6.47777 69.8668 6.20949 69.0579 6.20949ZM69.83 22.3796C70.6879 22.3796 71.3987 22.0991 71.9625 21.5381C72.5262 20.9528 72.8081 20.2211 72.8081 19.3431C72.8081 18.4895 72.5262 17.7822 71.9625 17.2212C71.3987 16.6359 70.6879 16.3432 69.83 16.3432H63.9841V22.3796H69.83ZM7.20627 26.5501L0 0.941348H5.33117L10.2579 19.9284L15.6258 0.941348H19.9643L25.369 19.9284L30.2958 0.941348H35.6269L28.4207 26.5501H22.6483L17.7951 9.64831L12.9786 26.5501H7.20627ZM40.1661 19.3412C40.8034 21.6338 42.5314 22.7801 45.3502 22.7801C47.164 22.7801 48.5366 22.1703 49.468 20.9509L53.2918 23.1459C51.478 25.7555 48.8062 27.0604 45.2766 27.0604C42.2373 27.0604 39.7984 26.1458 37.9601 24.3166C36.1217 22.4874 35.2026 20.1826 35.2026 17.4022C35.2026 14.6462 36.1095 12.3536 37.9233 10.5244C39.7371 8.67086 42.0657 7.74407 44.909 7.74407C47.6052 7.74407 49.8235 8.67086 51.5637 10.5244C53.3285 12.378 54.2109 14.6706 54.2109 17.4022C54.2109 18.012 54.1497 18.6583 54.0271 19.3412H40.1661ZM40.0925 15.6828H49.468C49.1984 14.4389 48.6347 13.5121 47.7768 12.9024C46.9434 12.2927 45.9875 11.9878 44.909 11.9878C43.6344 11.9878 42.5804 12.3171 41.747 12.9756C40.9137 13.6097 40.3622 14.5121 40.0925 15.6828Z"
              fill="black"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M213.403 0.54126V26.9865H216.57V0.54126H213.403ZM221.403 26.9865V0.54126H224.57V26.9865H221.403ZM255.158 11.9155H260V8.87248H255.158V3.80078L251.99 4.74267V8.87248H248.386V11.9155H251.99V21.7329C251.99 23.9789 252.634 25.5125 253.92 26.3336C255.206 27.1306 257.233 27.348 260 26.9857V24.16C258.932 24.2083 258.034 24.2325 257.306 24.2325C256.578 24.2083 256.032 24.0151 255.668 23.6529C255.328 23.2664 255.158 22.6264 255.158 21.7329V11.9155ZM233.843 23.1476C232.678 22.254 231.938 20.9982 231.623 19.3801H246.877C246.95 18.8971 246.987 18.4261 246.987 17.9672C246.987 15.3348 246.137 13.0888 244.438 11.2291C242.763 9.34535 240.591 8.40347 237.921 8.40347C235.106 8.40347 232.812 9.30913 231.04 11.1204C229.268 12.9318 228.382 15.202 228.382 17.931C228.382 20.6842 229.28 22.9665 231.076 24.7778C232.897 26.565 235.251 27.4586 238.14 27.4586C241.707 27.4586 244.377 26.094 246.149 23.365L243.455 21.8435C242.363 23.6065 240.615 24.488 238.212 24.488C236.489 24.488 235.033 24.0412 233.843 23.1476ZM233.698 12.8231C234.814 11.8571 236.222 11.374 237.921 11.374C239.377 11.374 240.652 11.8208 241.744 12.7144C242.836 13.608 243.516 14.9121 243.783 16.6269H231.623C231.89 15.0329 232.581 13.765 233.698 12.8231ZM205.436 8.87441H208.604V26.9876H205.436V23.8722C203.859 26.2631 201.565 27.4586 198.555 27.4586C196.007 27.4586 193.834 26.5408 192.038 24.7054C190.242 22.8457 189.344 20.5876 189.344 17.931C189.344 15.2744 190.242 13.0284 192.038 11.1929C193.834 9.33328 196.007 8.40347 198.555 8.40347C201.565 8.40347 203.859 9.59894 205.436 11.9899V8.87441ZM198.956 24.4156C200.8 24.4156 202.342 23.7997 203.58 22.568C204.817 21.3122 205.436 19.7665 205.436 17.931C205.436 16.0955 204.817 14.562 203.58 13.3303C202.342 12.0744 200.8 11.4465 198.956 11.4465C197.135 11.4465 195.606 12.0744 194.368 13.3303C193.131 14.562 192.512 16.0955 192.512 17.931C192.512 19.7665 193.131 21.3122 194.368 22.568C195.606 23.7997 197.135 24.4156 198.956 24.4156ZM154.635 1.62798L161.953 26.9865H165.885L171.929 6.7359L177.972 26.9865H181.904L189.222 1.62798H185.654L179.829 22.4944L173.64 1.62798H170.218L164.028 22.4944L158.203 1.62798H154.635Z"
              fill="#6116EC"
            />
          </svg>
        </Link>
        <nav className="hidden space-x-8 md:flex">
          <Link href="/" className="text-gray-800 hover:text-purple-600">
            Home
          </Link>
          <Link href="/docs" className="text-gray-800 hover:text-purple-600">
            Docs
          </Link>
          <Link
            href="/dashboard"
            className="text-gray-800 hover:text-purple-600"
          >
            Dashboard
          </Link>
        </nav>
        <div className="md:hidden">
          <Sheet open={isMobileMenuOpen} onOpenChange={setMobileMenuOpen}>
            <SheetTrigger asChild>
              <Button
                variant="ghost"
                aria-label="Open Menu"
                onClick={() => setMobileMenuOpen(true)}
              >
                <Menu className="h-6 w-6" />
              </Button>
            </SheetTrigger>
            <SheetContent side="right" className="w-[250px] p-6 bg-white">
              <SheetHeader className="flex items-center justify-between mb-4 border-b pb-4">
                <div>
                  <SheetTitle className="text-2xl font-bold text-gray-800">
                    Menu
                  </SheetTitle>
                  <SheetDescription className="text-sm text-gray-500 mt-1">
                    Quick access to main sections
                  </SheetDescription>
                </div>
              </SheetHeader>
              <nav className="flex flex-col space-y-4 mt-6">
                <Link
                  href="/"
                  onClick={() => setMobileMenuOpen(false)}
                  className="flex items-center space-x-3 text-lg text-gray-800 hover:text-purple-600"
                >
                  <HomeIcon className="w-5 h-5" />
                  <span>Home</span>
                </Link>
                <Link
                  href="/docs"
                  onClick={() => setMobileMenuOpen(false)}
                  className="flex items-center space-x-3 text-lg text-gray-800 hover:text-purple-600"
                >
                  <Book className="w-5 h-5" />
                  <span>Docs</span>
                </Link>
                <Link
                  href="/dashboard"
                  onClick={() => setMobileMenuOpen(false)}
                  className="flex items-center space-x-3 text-lg text-gray-800 hover:text-purple-600"
                >
                  <LayoutDashboard className="w-5 h-5" />
                  <span>Dashboard</span>
                </Link>
              </nav>

              {/* Lower-level Links */}
              <div className="mt-8 border-t pt-4">
                <nav className="flex flex-col space-y-2">
                  <Link
                    href="/page/terms-of-use"
                    onClick={() => setMobileMenuOpen(false)}
                    className="text-sm text-gray-600 hover:text-purple-500"
                  >
                    Terms of Use
                  </Link>
                  <Link
                    href="/page/privacy-policy"
                    onClick={() => setMobileMenuOpen(false)}
                    className="text-sm text-gray-600 hover:text-purple-500"
                  >
                    Privacy Policy
                  </Link>
                  <Link
                    href="/page/sdk-license"
                    onClick={() => setMobileMenuOpen(false)}
                    className="text-sm text-gray-600 hover:text-purple-500"
                  >
                    SDK License Terms
                  </Link>
                </nav>
              </div>

              <SheetFooter className="mt-8 pt-4 border-t flex justify-center">
                {/* <Link href="/" onClick={() => setMobileMenuOpen(false)}>
                  <svg
                    width="180"
                    height="20"
                    viewBox="0 0 260 28"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M80.9514 0.390625V27.0969H85.6943V0.390625H80.9514ZM142.867 27.0989H148.382L140.771 17.8432L148.161 8.80694H142.499L136.175 16.8554V1.49017H131.433V27.0989H136.175V18.7943L142.867 27.0989ZM113.667 24.8289C115.53 26.6825 117.846 27.6092 120.616 27.6092C122.405 27.6092 124.035 27.1824 125.506 26.3288C126.976 25.4508 128.116 24.2923 128.925 22.8533L124.807 20.512C124.439 21.268 123.876 21.8656 123.116 22.3046C122.381 22.7192 121.535 22.9265 120.579 22.9265C119.157 22.9265 117.981 22.4631 117.049 21.5363C116.118 20.5851 115.652 19.3901 115.652 17.9511C115.652 16.4877 116.118 15.2927 117.049 14.3659C117.981 13.4147 119.157 12.9391 120.579 12.9391C121.51 12.9391 122.344 13.1586 123.079 13.5976C123.839 14.0366 124.403 14.6342 124.77 15.3902L128.851 13.0123C128.092 11.5733 126.976 10.427 125.506 9.57339C124.035 8.71976 122.405 8.29295 120.616 8.29295C117.846 8.29295 115.53 9.21974 113.667 11.0733C111.828 12.9269 110.909 15.2195 110.909 17.9511C110.909 20.6827 111.828 22.9753 113.667 24.8289ZM105.697 24.8289C103.81 26.6825 101.506 27.6092 98.7848 27.6092C96.0641 27.6092 93.7601 26.6825 91.8727 24.8289C90.0098 22.9509 89.0784 20.6583 89.0784 17.9511C89.0784 15.2439 90.0098 12.9635 91.8727 11.1099C93.7601 9.23194 96.0641 8.29295 98.7848 8.29295C101.506 8.29295 103.81 9.23194 105.697 11.1099C107.584 12.9635 108.528 15.2439 108.528 17.9511C108.528 20.6583 107.584 22.9509 105.697 24.8289ZM95.2185 21.5729C96.1744 22.5241 97.3632 22.9997 98.7848 22.9997C100.206 22.9997 101.395 22.5241 102.351 21.5729C103.307 20.6217 103.785 19.4145 103.785 17.9511C103.785 16.4877 103.307 15.2805 102.351 14.3293C101.395 13.3781 100.206 12.9025 98.7848 12.9025C97.3632 12.9025 96.1744 13.3781 95.2185 14.3293C94.287 15.2805 93.8213 16.4877 93.8213 17.9511C93.8213 19.4145 94.287 20.6217 95.2185 21.5729Z"
                      fill="#6116EC"
                    />
                  </svg>
                </Link> */}
                <Link
                  href="/"
                  className="flex items-center space-x-2"
                  onClick={() => setMobileMenuOpen(false)}
                >
                  <svg
                    width="180"
                    height="20"
                    viewBox="0 0 260 28"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M80.9514 0.390625V27.0969H85.6943V0.390625H80.9514ZM142.867 27.0989H148.382L140.771 17.8432L148.161 8.80694H142.499L136.175 16.8554V1.49017H131.433V27.0989H136.175V18.7943L142.867 27.0989ZM113.667 24.8289C115.53 26.6825 117.846 27.6092 120.616 27.6092C122.405 27.6092 124.035 27.1824 125.506 26.3288C126.976 25.4508 128.116 24.2923 128.925 22.8533L124.807 20.512C124.439 21.268 123.876 21.8656 123.116 22.3046C122.381 22.7192 121.535 22.9265 120.579 22.9265C119.157 22.9265 117.981 22.4631 117.049 21.5363C116.118 20.5851 115.652 19.3901 115.652 17.9511C115.652 16.4877 116.118 15.2927 117.049 14.3659C117.981 13.4147 119.157 12.9391 120.579 12.9391C121.51 12.9391 122.344 13.1586 123.079 13.5976C123.839 14.0366 124.403 14.6342 124.77 15.3902L128.851 13.0123C128.092 11.5733 126.976 10.427 125.506 9.57339C124.035 8.71976 122.405 8.29295 120.616 8.29295C117.846 8.29295 115.53 9.21974 113.667 11.0733C111.828 12.9269 110.909 15.2195 110.909 17.9511C110.909 20.6827 111.828 22.9753 113.667 24.8289ZM105.697 24.8289C103.81 26.6825 101.506 27.6092 98.7848 27.6092C96.0641 27.6092 93.7601 26.6825 91.8727 24.8289C90.0098 22.9509 89.0784 20.6583 89.0784 17.9511C89.0784 15.2439 90.0098 12.9635 91.8727 11.1099C93.7601 9.23194 96.0641 8.29295 98.7848 8.29295C101.506 8.29295 103.81 9.23194 105.697 11.1099C107.584 12.9635 108.528 15.2439 108.528 17.9511C108.528 20.6583 107.584 22.9509 105.697 24.8289ZM95.2185 21.5729C96.1744 22.5241 97.3632 22.9997 98.7848 22.9997C100.206 22.9997 101.395 22.5241 102.351 21.5729C103.307 20.6217 103.785 19.4145 103.785 17.9511C103.785 16.4877 103.307 15.2805 102.351 14.3293C101.395 13.3781 100.206 12.9025 98.7848 12.9025C97.3632 12.9025 96.1744 13.3781 95.2185 14.3293C94.287 15.2805 93.8213 16.4877 93.8213 17.9511C93.8213 19.4145 94.287 20.6217 95.2185 21.5729ZM74.4626 13.8189C76.7176 15.1116 77.8452 17.0627 77.8452 19.6724C77.8452 21.843 77.0731 23.6234 75.5289 25.0136C73.9846 26.4038 72.085 27.0989 69.83 27.0989H58.9103V1.49017H69.0579C71.2639 1.49017 73.1145 2.17306 74.6097 3.53886C76.1294 4.88027 76.8892 6.59972 76.8892 8.69719C76.8892 10.8191 76.0804 12.5263 74.4626 13.8189ZM69.0579 6.20949H63.9841V11.8434H69.0579C69.8423 11.8434 70.4918 11.5751 71.0066 11.0386C71.5458 10.502 71.8154 9.83129 71.8154 9.02645C71.8154 8.2216 71.5581 7.5509 71.0433 7.01433C70.5286 6.47777 69.8668 6.20949 69.0579 6.20949ZM69.83 22.3796C70.6879 22.3796 71.3987 22.0991 71.9625 21.5381C72.5262 20.9528 72.8081 20.2211 72.8081 19.3431C72.8081 18.4895 72.5262 17.7822 71.9625 17.2212C71.3987 16.6359 70.6879 16.3432 69.83 16.3432H63.9841V22.3796H69.83ZM7.20627 26.5501L0 0.941348H5.33117L10.2579 19.9284L15.6258 0.941348H19.9643L25.369 19.9284L30.2958 0.941348H35.6269L28.4207 26.5501H22.6483L17.7951 9.64831L12.9786 26.5501H7.20627ZM40.1661 19.3412C40.8034 21.6338 42.5314 22.7801 45.3502 22.7801C47.164 22.7801 48.5366 22.1703 49.468 20.9509L53.2918 23.1459C51.478 25.7555 48.8062 27.0604 45.2766 27.0604C42.2373 27.0604 39.7984 26.1458 37.9601 24.3166C36.1217 22.4874 35.2026 20.1826 35.2026 17.4022C35.2026 14.6462 36.1095 12.3536 37.9233 10.5244C39.7371 8.67086 42.0657 7.74407 44.909 7.74407C47.6052 7.74407 49.8235 8.67086 51.5637 10.5244C53.3285 12.378 54.2109 14.6706 54.2109 17.4022C54.2109 18.012 54.1497 18.6583 54.0271 19.3412H40.1661ZM40.0925 15.6828H49.468C49.1984 14.4389 48.6347 13.5121 47.7768 12.9024C46.9434 12.2927 45.9875 11.9878 44.909 11.9878C43.6344 11.9878 42.5804 12.3171 41.747 12.9756C40.9137 13.6097 40.3622 14.5121 40.0925 15.6828Z"
                      fill="black"
                    />
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M213.403 0.54126V26.9865H216.57V0.54126H213.403ZM221.403 26.9865V0.54126H224.57V26.9865H221.403ZM255.158 11.9155H260V8.87248H255.158V3.80078L251.99 4.74267V8.87248H248.386V11.9155H251.99V21.7329C251.99 23.9789 252.634 25.5125 253.92 26.3336C255.206 27.1306 257.233 27.348 260 26.9857V24.16C258.932 24.2083 258.034 24.2325 257.306 24.2325C256.578 24.2083 256.032 24.0151 255.668 23.6529C255.328 23.2664 255.158 22.6264 255.158 21.7329V11.9155ZM233.843 23.1476C232.678 22.254 231.938 20.9982 231.623 19.3801H246.877C246.95 18.8971 246.987 18.4261 246.987 17.9672C246.987 15.3348 246.137 13.0888 244.438 11.2291C242.763 9.34535 240.591 8.40347 237.921 8.40347C235.106 8.40347 232.812 9.30913 231.04 11.1204C229.268 12.9318 228.382 15.202 228.382 17.931C228.382 20.6842 229.28 22.9665 231.076 24.7778C232.897 26.565 235.251 27.4586 238.14 27.4586C241.707 27.4586 244.377 26.094 246.149 23.365L243.455 21.8435C242.363 23.6065 240.615 24.488 238.212 24.488C236.489 24.488 235.033 24.0412 233.843 23.1476ZM233.698 12.8231C234.814 11.8571 236.222 11.374 237.921 11.374C239.377 11.374 240.652 11.8208 241.744 12.7144C242.836 13.608 243.516 14.9121 243.783 16.6269H231.623C231.89 15.0329 232.581 13.765 233.698 12.8231ZM205.436 8.87441H208.604V26.9876H205.436V23.8722C203.859 26.2631 201.565 27.4586 198.555 27.4586C196.007 27.4586 193.834 26.5408 192.038 24.7054C190.242 22.8457 189.344 20.5876 189.344 17.931C189.344 15.2744 190.242 13.0284 192.038 11.1929C193.834 9.33328 196.007 8.40347 198.555 8.40347C201.565 8.40347 203.859 9.59894 205.436 11.9899V8.87441ZM198.956 24.4156C200.8 24.4156 202.342 23.7997 203.58 22.568C204.817 21.3122 205.436 19.7665 205.436 17.931C205.436 16.0955 204.817 14.562 203.58 13.3303C202.342 12.0744 200.8 11.4465 198.956 11.4465C197.135 11.4465 195.606 12.0744 194.368 13.3303C193.131 14.562 192.512 16.0955 192.512 17.931C192.512 19.7665 193.131 21.3122 194.368 22.568C195.606 23.7997 197.135 24.4156 198.956 24.4156ZM154.635 1.62798L161.953 26.9865H165.885L171.929 6.7359L177.972 26.9865H181.904L189.222 1.62798H185.654L179.829 22.4944L173.64 1.62798H170.218L164.028 22.4944L158.203 1.62798H154.635Z"
                      fill="#6116EC"
                    />
                  </svg>
                </Link>
              </SheetFooter>
            </SheetContent>
          </Sheet>
        </div>
      </div>
    </header>
  )
}
